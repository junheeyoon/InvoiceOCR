{"ast":null,"code":"var _jsxFileName = \"/Users/junhee/Downloads/invoice/src/Coordinate.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet flag = 0;\nlet x_val, y_val;\nlet x_pre, y_pre;\n\nclass Coordinate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setC = () => {\n      const canvas = document.getElementById(\"canvas\");\n      let context = canvas.getContext(\"2d\");\n      const image = new Image(this.state.canvasHeight, this.state.canvasWidth); // Using optional size for image\n\n      image.src = this.state.imagePreviewUrl;\n      context.src = image.src;\n      context.drawImage(image, 0, 0, this.state.canvasWidth, this.state.canvasHeight);\n      this.setState({\n        context: context\n      });\n    };\n\n    this.mouseoUp = e => {\n      const context = this.state.context;\n      if (context == \"\") return;\n      const coorX = e.view.event.layerX;\n      const coorY = e.view.event.layerY;\n      const x = this.state.x;\n      const y = this.state.y;\n      context.globalAlpha = 0.2;\n      console.log(\"context \" + context);\n      console.log(\"coorX \" + coorX);\n      console.log(\"coorY \" + coorY);\n      console.log(\"x \" + x);\n      console.log(\"y \" + y);\n      this.setState({\n        x: 0,\n        y: 0\n      });\n      const multiples = document.getElementById(\"multiples\").value;\n      const text = x * parseInt(multiples) + \",\" + y * parseInt(multiples) + \" / \" + coorX * parseInt(multiples) + \",\" + coorY * parseInt(multiples); // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\n      // context.strokeRect(x,y,coorX-x,coorY-y);\n\n      context.beginPath();\n      context.fillStyle = 'blue';\n      context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\n      context.fill();\n      context.fillStyle = \"red\";\n      context.fillRect(x, y, coorX - x, coorY - y);\n      context.globalAlpha = 1;\n      context.fillStyle = \"black\";\n      context.fillText(text, coorX, coorY);\n      context.closePath();\n      document.getElementById(\"txtValue\").value = text.replace(' / ', ',');\n      flag = 0;\n    };\n\n    this.mouseMove = e => {\n      const context = this.state.context;\n      if (context == \"\") return;\n      context.clearRect(x_val, y_val, x_pre, y_pre);\n      const coorX = e.view.event.layerX;\n      const coorY = e.view.event.layerY;\n      const x = this.state.x;\n      const y = this.state.y;\n      context.globalAlpha = 0.2;\n      console.log(\"context \" + context);\n      console.log(\"coorX \" + coorX);\n      console.log(\"coorY \" + coorY);\n      console.log(\"x \" + x);\n      console.log(\"y \" + y); //x_val = coorX\n      //y_val = coorY\n\n      if (flag) {\n        this.setState({\n          x: x_val,\n          y: y_val\n        }); // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\n        // context.strokeRect(x,y,coorX-x,coorY-y);\n\n        context.beginPath();\n        context.fillStyle = \"red\";\n        context.strokeRect(x, y, coorX - x, coorY - y);\n        x_pre = coorX - x;\n        y_val = coorY - y;\n        context.globalAlpha = 1;\n        context.closePath();\n      }\n    };\n\n    this.mouseoDown = e => {\n      const context = this.state.context;\n      if (context == \"\") return;\n      const coorX = e.view.event.layerX;\n      const coorY = e.view.event.layerY;\n      const x = this.state.x;\n      const y = this.state.y;\n      context.globalAlpha = 0.2;\n      console.log(\"context \" + context);\n      console.log(\"coorX \" + coorX);\n      console.log(\"coorY \" + coorY);\n      console.log(\"x \" + x);\n      console.log(\"y \" + y);\n      x_val = coorX;\n      y_val = coorY;\n\n      if (x == 0 && y == 0) {\n        flag = 1;\n        this.setState({\n          x: coorX,\n          y: coorY\n        });\n        context.beginPath();\n        context.fillStyle = 'blue';\n        context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.closePath();\n      }\n    };\n\n    this.getLocation = e => {\n      const context = this.state.context;\n      if (context == \"\") return;\n      const coorX = e.view.event.layerX;\n      const coorY = e.view.event.layerY;\n      const x = this.state.x;\n      const y = this.state.y;\n      context.globalAlpha = 0.2;\n\n      if (x == 0 && y == 0) {\n        this.setState({\n          x: coorX,\n          y: coorY\n        });\n        context.beginPath();\n        context.fillStyle = 'blue';\n        context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.closePath();\n      } else {\n        this.setState({\n          x: 0,\n          y: 0\n        });\n        const multiples = document.getElementById(\"multiples\").value;\n        const text = x * parseInt(multiples) + \",\" + y * parseInt(multiples) + \" / \" + coorX * parseInt(multiples) + \",\" + coorY * parseInt(multiples); // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\n        // context.strokeRect(x,y,coorX-x,coorY-y);\n\n        context.beginPath();\n        context.fillStyle = 'blue';\n        context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\n        context.fill();\n        context.fillStyle = \"red\";\n        context.fillRect(x, y, coorX - x, coorY - y);\n        context.globalAlpha = 1;\n        context.fillStyle = \"black\";\n        context.fillText(text, coorX, coorY);\n        context.closePath();\n        document.getElementById(\"txtValue\").value = text.replace(' / ', ',');\n      }\n    };\n\n    this.insertCoordinateData = e => {\n      if (document.getElementById(\"txtLabel\").value && document.getElementById(\"txtValue\").value) {\n        const txtTable = document.getElementById(\"txtTable\").value;\n        const txtLabel = document.getElementById(\"txtLabel\").value;\n        const selectUnit = document.getElementById(\"selectUnit\").value;\n        const txtUnit = document.getElementById(\"txtUnit\").value;\n        const txtValue = document.getElementById(\"txtValue\").value;\n        let formData = new FormData();\n        formData.append('methodName', 'UpdateCoordinate');\n        formData.append('table', txtTable);\n        formData.append('label', txtLabel);\n        formData.append('value', txtValue);\n\n        if (selectUnit) {\n          formData.append('unit', selectUnit);\n        } else {\n          formData.append('unit', txtUnit);\n        }\n\n        fetch(\"http://\" + this.state.IP + \"/RPA/Coordinate/setCoordinate\", {\n          method: 'POST',\n          body: formData\n        }).then(res => res.json()).then(alert('success')).catch(error => {\n          alert('fail');\n          console.error(error);\n        });\n      } else {\n        alert('Label & Value is a required');\n        return;\n      }\n    };\n\n    this.changeTableSelect = e => {\n      const tableValue = document.getElementById(\"txtTable\").value;\n      let selectUnit = document.getElementById('selectUnit');\n\n      if (tableValue == 'invoice_coordinate') {\n        document.getElementById('txtUnit').disabled = true;\n        document.getElementById('txtUnit').value = '';\n        document.getElementById('selectUnit').disabled = false;\n        const unitList = [{\n          key: 'invoiceNO',\n          val: 'invoiceNO'\n        }, {\n          key: 'purchaseOrderNO',\n          val: 'purchaseOrderNO'\n        }, {\n          key: 'invoiceDate',\n          val: 'invoiceDate'\n        }, {\n          key: 'wayBillNO',\n          val: 'wayBillNO'\n        }, {\n          key: 'partNO',\n          val: 'partNO'\n        }, {\n          key: 'partQty',\n          val: 'partQty'\n        }, {\n          key: 'partPrice',\n          val: 'partPrice'\n        }, {\n          key: 'partTotPrice',\n          val: 'partTotPrice'\n        }, {\n          key: 'currency',\n          val: 'currency'\n        }, {\n          key: 'total',\n          val: 'total'\n        }, {\n          key: 'table',\n          val: 'table'\n        }, {\n          key: 'tableExtractLine',\n          val: 'tableExtractLine'\n        }, {\n          key: 'page',\n          val: 'page'\n        }, {\n          key: 'passPage',\n          val: 'passPage'\n        }];\n        unitList.forEach(function (list, i) {\n          var opt = document.createElement('option');\n          opt.setAttribute('value', list.key);\n          opt.innerText = list.val;\n          selectUnit.appendChild(opt);\n        });\n      } else {\n        for (var i = 0; i < selectUnit.children.length; i++) {\n          if (selectUnit.children.length > 0 && selectUnit.firstChild) {\n            selectUnit.removeChild(selectUnit.lastChild);\n            i--;\n          }\n        }\n\n        document.getElementById('txtUnit').disabled = false;\n        document.getElementById('selectUnit').disabled = true;\n      }\n    };\n\n    this.state = {\n      dataList: null,\n      IP: '127.0.0.1:8728',\n      tableName: '',\n      x: 0,\n      y: 0,\n      context: '',\n      canvasWidth: 800,\n      canvasHeight: 1200,\n      canvasMultiple: 1,\n      file: '',\n      imagePreviewUrl: ''\n    };\n  }\n\n  _handleImageChange(e) {\n    e.preventDefault();\n    let reader = new FileReader();\n    let file = e.target.files[0];\n\n    reader.onloadend = () => {\n      this.setState({\n        file: file,\n        imagePreviewUrl: reader.result\n      });\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  render() {\n    let {\n      imagePreviewUrl\n    } = this.state;\n    let $imagePreview = null;\n\n    if (imagePreviewUrl) {\n      $imagePreview = /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imagePreviewUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 28\n      }, this);\n    } else {\n      $imagePreview = /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"previewText\",\n        children: \"Please select an Image for Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 28\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Coordinate \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          this.props.history.goBack();\n        },\n        children: \" back \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        border: \"1\",\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"previewComponent\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"fileInput\",\n              type: \"file\",\n              accept: \"image/png, image/jpeg\",\n              onChange: e => this._handleImageChange(e)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.setC,\n              children: \"convert\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"multiples\",\n              size: \"1\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5\",\n                selected: true,\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"6\",\n                children: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"7\",\n                children: \"7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"8\",\n                children: \"8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"9\",\n                children: \"9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10\",\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n            id: \"canvas\",\n            height: \"1200\",\n            width: \"800\",\n            onMouseMove: this.mouseMove,\n            onMouseDown: this.mouseoDown,\n            onMouseUp: this.mouseoUp,\n            children: \"This browser doesn't support canvas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          valign: \"top\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Table : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"txtTable\",\n            onChange: this.changeTableSelect,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"invoice_type\",\n              selected: true,\n              children: \"Invoice Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"invoice_coordinate\",\n              children: \"Invoice Coordinate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"awb_coordinate\",\n              children: \"Airwaybill Coordinate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Label : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"txtLabel\",\n            size: \"15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 95\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 100\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Unit : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"txtUnit\",\n            size: \"15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 49\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 93\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"selectUnit\",\n            size: \"1\",\n            style: {\n              width: 150\n            },\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Data Value : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"txtValue\",\n            size: \"15\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 50\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 95\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 100\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: this.insertCoordinateData,\n            children: \"Insert Coordinate Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Coordinate;","map":{"version":3,"sources":["/Users/junhee/Downloads/invoice/src/Coordinate.js"],"names":["React","Component","flag","x_val","y_val","x_pre","y_pre","Coordinate","constructor","props","setC","canvas","document","getElementById","context","getContext","image","Image","state","canvasHeight","canvasWidth","src","imagePreviewUrl","drawImage","setState","mouseoUp","e","coorX","view","event","layerX","coorY","layerY","x","y","globalAlpha","console","log","multiples","value","text","parseInt","beginPath","fillStyle","arc","Math","PI","fill","fillRect","fillText","closePath","replace","mouseMove","clearRect","strokeRect","mouseoDown","getLocation","insertCoordinateData","txtTable","txtLabel","selectUnit","txtUnit","txtValue","formData","FormData","append","fetch","IP","method","body","then","res","json","alert","catch","error","changeTableSelect","tableValue","disabled","unitList","key","val","forEach","list","i","opt","createElement","setAttribute","innerText","appendChild","children","length","firstChild","removeChild","lastChild","dataList","tableName","canvasMultiple","file","_handleImageChange","preventDefault","reader","FileReader","target","files","onloadend","result","readAsDataURL","render","$imagePreview","history","goBack","width"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\r\nlet flag = 0\r\nlet x_val, y_val\r\nlet x_pre, y_pre\r\nclass Coordinate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            dataList:null\r\n            , IP:'127.0.0.1:8728'\r\n            , tableName : ''\r\n            , x : 0\r\n            , y : 0\r\n            , context : ''\r\n            , canvasWidth : 800\r\n            , canvasHeight : 1200\r\n            , canvasMultiple : 1\r\n            , file : ''\r\n            , imagePreviewUrl : ''\r\n        }\r\n\r\n    }\r\n\r\n    _handleImageChange(e) {\r\n        e.preventDefault();\r\n\r\n        let reader = new FileReader();\r\n        let file = e.target.files[0];\r\n\r\n        reader.onloadend = () => {\r\n        this.setState({\r\n            file: file,\r\n            imagePreviewUrl: reader.result\r\n        });\r\n        }\r\n\r\n        reader.readAsDataURL(file)\r\n        \r\n        \r\n    }\r\n    setC = () =>{\r\n        const canvas = document.getElementById(\"canvas\");\r\n        let context = canvas.getContext(\"2d\");\r\n        const image = new Image(this.state.canvasHeight, this.state.canvasWidth); // Using optional size for image\r\n\r\n        image.src = this.state.imagePreviewUrl\r\n        \r\n        context.src = image.src\r\n\r\n        context.drawImage( image , 0, 0,this.state.canvasWidth, this.state.canvasHeight);\r\n        this.setState({context:context})\r\n\r\n    }\r\n    \r\n    mouseoUp = (e) => {\r\n        const context = this.state.context\r\n        if(context == \"\") return\r\n\r\n        const coorX = e.view.event.layerX\r\n        const coorY = e.view.event.layerY\r\n        const x = this.state.x\r\n        const y = this.state.y\r\n        context.globalAlpha = 0.2;\r\n        console.log(\"context \" + context)\r\n        console.log(\"coorX \" + coorX)\r\n        console.log(\"coorY \" + coorY)\r\n        console.log(\"x \" + x)\r\n        console.log(\"y \" + y)\r\n\r\n        this.setState({x:0,y:0})\r\n            const multiples = document.getElementById(\"multiples\").value\r\n            const text = (x * parseInt(multiples)) + \",\"\r\n                + (y * parseInt(multiples)) + \" / \" \r\n                + (coorX * parseInt(multiples)) + \",\"\r\n                + (coorY * parseInt(multiples))\r\n            // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\r\n\r\n            // context.strokeRect(x,y,coorX-x,coorY-y);\r\n            context.beginPath();\r\n            context.fillStyle = 'blue';\r\n            context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\r\n            context.fill();\r\n            context.fillStyle = \"red\";\r\n            context.fillRect(x,y,coorX-x,coorY-y);\r\n\r\n            context.globalAlpha = 1;\r\n            context.fillStyle = \"black\";\r\n            context.fillText(text, coorX,coorY);\r\n            context.closePath();\r\n\r\n            document.getElementById(\"txtValue\").value = text.replace(' / ',',');\r\n            flag = 0\r\n    };\r\n    mouseMove = (e) =>{\r\n        const context = this.state.context\r\n        if(context == \"\") return\r\n        context.clearRect(x_val,y_val,x_pre,y_pre);\r\n        const coorX = e.view.event.layerX\r\n        const coorY = e.view.event.layerY\r\n        const x = this.state.x\r\n        const y = this.state.y\r\n        context.globalAlpha = 0.2;\r\n        console.log(\"context \" + context)\r\n        console.log(\"coorX \" + coorX)\r\n        console.log(\"coorY \" + coorY)\r\n        console.log(\"x \" + x)\r\n        console.log(\"y \" + y)\r\n        //x_val = coorX\r\n        //y_val = coorY\r\n        if (flag){\r\n            this.setState({x:x_val,y:y_val})\r\n        \r\n            // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\r\n\r\n            // context.strokeRect(x,y,coorX-x,coorY-y);\r\n            context.beginPath();\r\n            context.fillStyle = \"red\";\r\n            context.strokeRect(x,y,coorX-x,coorY-y);\r\n            x_pre = coorX-x\r\n            y_val = coorY-y\r\n            \r\n            context.globalAlpha = 1;\r\n            context.closePath();\r\n\r\n        }\r\n\r\n    }\r\n    mouseoDown = (e) =>{\r\n        const context = this.state.context\r\n        if(context == \"\") return\r\n\r\n        const coorX = e.view.event.layerX\r\n        const coorY = e.view.event.layerY\r\n        const x = this.state.x\r\n        const y = this.state.y\r\n        context.globalAlpha = 0.2;\r\n        console.log(\"context \" + context)\r\n        console.log(\"coorX \" + coorX)\r\n        console.log(\"coorY \" + coorY)\r\n        console.log(\"x \" + x)\r\n        console.log(\"y \" + y)\r\n        x_val = coorX\r\n        y_val = coorY\r\n        if (x == 0 && y == 0) {\r\n            flag = 1\r\n            this.setState({x:coorX, y:coorY})\r\n            context.beginPath();\r\n            context.fillStyle = 'blue';\r\n            context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\r\n            context.fill();\r\n            context.closePath();\r\n        }\r\n    };\r\n    getLocation = (e) => {\r\n        const context = this.state.context\r\n        if(context == \"\") return\r\n\r\n        const coorX = e.view.event.layerX\r\n        const coorY = e.view.event.layerY\r\n        const x = this.state.x\r\n        const y = this.state.y\r\n        context.globalAlpha = 0.2;\r\n        \r\n        if (x == 0 && y == 0) {\r\n            this.setState({x:coorX, y:coorY})\r\n            context.beginPath();\r\n            context.fillStyle = 'blue';\r\n            context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\r\n            context.fill();\r\n            context.closePath();\r\n        }else{\r\n            this.setState({x:0,y:0})\r\n            const multiples = document.getElementById(\"multiples\").value\r\n            const text = (x * parseInt(multiples)) + \",\"\r\n                + (y * parseInt(multiples)) + \" / \" \r\n                + (coorX * parseInt(multiples)) + \",\"\r\n                + (coorY * parseInt(multiples))\r\n            // const text = x+\",\"+y +\" / \" +(coorX)+\",\"+(coorY)\r\n\r\n            // context.strokeRect(x,y,coorX-x,coorY-y);\r\n            context.beginPath();\r\n            context.fillStyle = 'blue';\r\n            context.arc(coorX, coorY, 5, 0, 2 * Math.PI);\r\n            context.fill();\r\n            context.fillStyle = \"red\";\r\n            context.fillRect(x,y,coorX-x,coorY-y);\r\n\r\n            context.globalAlpha = 1;\r\n            context.fillStyle = \"black\";\r\n            context.fillText(text, coorX,coorY);\r\n            context.closePath();\r\n\r\n            document.getElementById(\"txtValue\").value = text.replace(' / ',',');\r\n\r\n        }\r\n    };\r\n    insertCoordinateData = (e) => {\r\n        if (document.getElementById(\"txtLabel\").value && document.getElementById(\"txtValue\").value ) {\r\n            const txtTable = document.getElementById(\"txtTable\").value\r\n            const txtLabel = document.getElementById(\"txtLabel\").value\r\n            const selectUnit = document.getElementById(\"selectUnit\").value\r\n            const txtUnit = document.getElementById(\"txtUnit\").value\r\n            const txtValue = document.getElementById(\"txtValue\").value\r\n\r\n            let formData = new FormData();\r\n            formData.append('methodName', 'UpdateCoordinate');\r\n            formData.append('table', txtTable);\r\n            formData.append('label', txtLabel);\r\n            formData.append('value', txtValue);\r\n            if (selectUnit){\r\n                formData.append('unit', selectUnit);\r\n            }else{\r\n                formData.append('unit', txtUnit);\r\n            }\r\n\r\n            fetch(\"http://\"+this.state.IP+\"/RPA/Coordinate/setCoordinate\", {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n            .then(res => res.json())\r\n            .then(\r\n                alert('success')\r\n            )\r\n            .catch((error) => {\r\n                alert('fail')\r\n                console.error(error);\r\n            });\r\n\r\n        }else{\r\n            alert('Label & Value is a required');return;\r\n        }\r\n    }\r\n    changeTableSelect = (e) => {\r\n        const tableValue = document.getElementById(\"txtTable\").value\r\n        let selectUnit = document.getElementById('selectUnit')\r\n        if (tableValue == 'invoice_coordinate'){\r\n            document.getElementById('txtUnit').disabled = true\r\n            document.getElementById('txtUnit').value = ''\r\n            document.getElementById('selectUnit').disabled = false\r\n            const unitList = [\r\n                { key: 'invoiceNO', val: 'invoiceNO' }\r\n                ,{ key: 'purchaseOrderNO', val: 'purchaseOrderNO' }\r\n                ,{ key: 'invoiceDate', val: 'invoiceDate' }\r\n                ,{ key: 'wayBillNO', val: 'wayBillNO' }\r\n                ,{ key: 'partNO', val: 'partNO' }\r\n                ,{ key: 'partQty', val: 'partQty' }\r\n                ,{ key: 'partPrice', val: 'partPrice' }\r\n                ,{ key: 'partTotPrice', val: 'partTotPrice' }\r\n                ,{ key: 'currency', val: 'currency' }\r\n                ,{ key: 'total', val: 'total' }\r\n                ,{ key: 'table', val: 'table' }\r\n                ,{ key: 'tableExtractLine', val: 'tableExtractLine' }\r\n                ,{ key: 'page', val: 'page' }\r\n                ,{ key: 'passPage', val: 'passPage' }\r\n            ];\r\n            unitList.forEach(function(list, i) {\r\n                var opt = document.createElement('option')\r\n                opt.setAttribute('value', list.key)\r\n                opt.innerText = list.val\r\n                selectUnit.appendChild(opt)\r\n            })\r\n        }else{\r\n            for(var i=0; i<selectUnit.children.length; i++) {\r\n                if(selectUnit.children.length > 0 && selectUnit.firstChild) {\r\n                    selectUnit.removeChild(selectUnit.lastChild)\r\n                    i--\r\n                }\r\n            }\r\n            document.getElementById('txtUnit').disabled = false\r\n            document.getElementById('selectUnit').disabled = true\r\n        }\r\n\r\n    }\r\n\r\n    render(){\r\n\r\n        let {imagePreviewUrl} = this.state;\r\n        let $imagePreview = null;\r\n        if (imagePreviewUrl) {\r\n          $imagePreview = (<img src={imagePreviewUrl} />);\r\n        } else {\r\n          $imagePreview = (<div className=\"previewText\">Please select an Image for Preview</div>);\r\n        }\r\n        return (\r\n            <div>\r\n                <h3> Coordinate </h3>\r\n                <button onClick={ () => {this.props.history.goBack()} }> back </button>\r\n                <p/>\r\n                \r\n                \r\n                <tr border=\"1\">\r\n                    <td colSpan=\"2\">\r\n                    <div className=\"previewComponent\">\r\n                        {/* <form onSubmit={(e)=>this._handleSubmit(e)}> */}\r\n                        <input className=\"fileInput\" \r\n                            type=\"file\" \r\n                            accept=\"image/png, image/jpeg\"\r\n                            onChange={(e)=>this._handleImageChange(e)} />\r\n                        <button onClick={this.setC}>convert</button>\r\n\r\n                        <select id='multiples' size='1'>\r\n                            <option value='1'>1</option>\r\n                            <option value='2'>2</option>\r\n                            <option value='3'>3</option>\r\n                            <option value='4'>4</option>\r\n                            <option value='5' selected>5</option>\r\n                            <option value='6'>6</option>\r\n                            <option value='7'>7</option>\r\n                            <option value='8'>8</option>\r\n                            <option value='9'>9</option>\r\n                            <option value='10'>10</option>\r\n                        </select>\r\n                    </div>\r\n                    <p/>\r\n                    </td>\r\n                </tr> \r\n                <tr>\r\n                    \r\n                    <td>\r\n                    <p/>\r\n                    {/*<canvas id=\"canvas\" height=\"1200\" width=\"800\" onClick={this.getLocation}>This browser doesn't support canvas</canvas>*/}\r\n                    <canvas id=\"canvas\" height=\"1200\" width=\"800\" onMouseMove={this.mouseMove} onMouseDown={this.mouseoDown} onMouseUp={this.mouseoUp}>This browser doesn't support canvas</canvas>\r\n                    </td>\r\n\r\n                    <td valign=\"top\" > \r\n                    <label >Data Table : </label>\r\n                    {/* <input type='text' id='txtTable' value ='awb_coordinate' size='20' disabled/><br/><br/> */}\r\n                    <select id='txtTable' onChange={this.changeTableSelect}>\r\n                        <option value=\"invoice_type\" selected>Invoice Type</option>\r\n                        <option value=\"invoice_coordinate\">Invoice Coordinate</option>\r\n                        <option value=\"awb_coordinate\">Airwaybill Coordinate</option>\r\n                    </select><br/><br/> \r\n                    <label >Data Label : </label><input type='text' id='txtLabel' size='15' /><br/><br/>\r\n                    <label >Data Unit : </label><input type='text' id='txtUnit' size='15' /><br/>\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <select id='selectUnit' size='1' style={{width:150}} disabled>\r\n                    </select><br/><br/>\r\n                    \r\n                    <label >Data Value : </label><input type='text' id='txtValue' size='15' /><br/><br/>\r\n                    <button type='button' onClick={this.insertCoordinateData}>Insert Coordinate Data</button>\r\n                    </td>\r\n                </tr>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Coordinate;"]},"metadata":{},"sourceType":"module"}